|**第1章 引言**|
| :-: |
|<p>1.1课题的研究背景</p><p>博客（Blogger），为Web Log的混成词。是指使用特定的软件，在网络上出版、发表和张贴个人文章的人，或者是一种通常由个人管理、不定期张贴新的文章的网站。博客上的文章大部分以网页形式出现，并根据张贴时间以倒序排列。一般具备RSS订阅功能。博客是继MSN、BBS、ICQ之后出现的第四种网络交流方式。许多博客专注在特定的课题上提供评论或新闻，其他则被作为个人性日记。一个典型的博客结合了文字、图像、其他博客或网站的链接及其与主题相关的媒体，能够让读者以互动的方式留下意见，是许多博客的重要要素。现如今，博客已经成为了社会媒体网络中一种重要的传播信息的方式。</p><p>在此项目中为了实现对博客系统的快速开发，使用了SpringBoot框架和MyBatis框架下的增强工具MyBatisplus来提高提高开发效率和封装性。</p><p>Spring框架是Java平台上的一种开源框架，提供具有控制反转特性的容器。尽管Spring框架自身对编程模型没有限制，但其在Java应用中的频繁使用让其备受青睐。Spring框架为开发提供了一系列的解决方案，比如利用控制反转的核心特性，并通过依赖注入实现控制反转来实现管理对象生命周期容器化，利用面向切面编程进行声明式的事务管理，整合多种持久化技术管理数据访问，提供大量优秀的Web框架方便开发等。SpringBoot基于Spring4.0设计，不仅继承了Spring框架原有的优秀特性，而且还通过简化配置来进一步简化了Spring应用的整个搭建和开发过程。</p><p>MyBatis则一款优秀的持久化框架，支持定制化SQL、存储过程以及高级映射。MyBatis避免了几乎所有的JDBC代码和手动设置参数以及获取结果集。而MyBatisplus则是MyBatis的增强工具，具有无侵入、损耗小、强大的CRUD操作，支持Lambda形式调用，支持主键自动生成等。</p><p>考虑到博客系统存在高并发性，应支持大量用户同时访问，因此这对数据库数据的读写速度有着一定要求，因此在设计该系统时，引入了Redis服务，来分担数据库存储大量数据的任务负担。</p><p>Redis（Remote Dictionary Server）远程字典服务，使用了ANSI C语言编写、支持网络、Key-Value数据库，并提供多种API，具有读写快的特点，可以安装在内存上来分担读取个人小规模数据的任务。</p>|
|<p>1.2国内外研究现状</p><p>国内层面上，我国已有相对完善的博客系统，如新浪博客，CSDN网站等。在这些受众面较高的网站上发布博客，常常被企业统一化管理，模式较为单一。博主仅仅只能选择是否公开发布自己的博文这种模式来管理。同时，若是某企业的部门使用博客系统，也很难将其交给部门内不同职权的员工进行操作。目前，国家正大力推广网络上的优秀资源共享机制，博客系统正是作为技术、经历等知识的重要传播途径，其在新时代下发挥着无可替代的作用。</p><p>国外层面上，博客一词本为舶来词，国外不少网站已实现了相对完善的博客系统网站，如Blogger、Tumblr、Twitter等。但国内鲜有人可以实现其各种细节，同时这些网站的开发企业对博文的管理相对松散，曾出现用户信息泄露的事件。全球各公司今年来也在着手处理相关安全漏洞。</p><p>主流博客管理网站一直仅仅被掌握在国外的手里。上世纪90年代，人们已经见证了网络技术在国家军事、经济、社会层面带来的巨大影响，越来越多的人开始觉察应该向国外学习其网络的相关技术，与其追平甚至超越。如果无法实现技术的更新，无异于刀俎上的鱼肉、待宰的羔羊。只有更新我国现有的网络软件体系，创造服务更好，体系更完善的博客管理系统，我国才能在未来的国际舞台上拥有掷地有声的话语权。</p>|
|**第2章 系统分析**|
|<p>2.1可行性分析</p><p>**2.1.1技术可行性**</p><p>该项目的技术栈为SpringBoot、SpringSecurity、Redis、云服务、MyBatisplus、Vue、lombok、Lambda、EasyCode等现代互联网企业的前沿技术。</p><p>SpringBoot整合持久层MyBatisplus框架是现代公司十分推崇的开发模式，一方面将开发模式化，强化了程序的易读性；另一方面，提高了系统开发的效率，简化了处理细节的复杂步骤。</p><p>SpringSecurity作为一种Spring框架下的认证工具类，提供许多认证相关的实现类，简化了开发人员认证设计，同时其高层次的安全保护，进一步提高了系统的安全性。</p><p>Redis作为用户与数据库交互间的缓冲器，不仅降低了系统在高并发环境下的数据快速读写任务的困难性，而且可以解决写锁事件，防止出现读写同时进行而导致的“脏读”现象。</p><p>云服务在该项目主要以“七牛云”平台作为样例，将用户的头像或是文章里引用的图片、影像、音频等文件存储到服务器的预定文件夹中，解决了用户存储空间不足的问题。</p><p>Vue作为现代重要的前端开发技术，在生成页面、设计页面、设计端口等方面起着十分重要的作用。</p><p>Lombok、Lambda、EasyCode作为开发中重要的工具，大幅度简化了开发者的代码量，通过简单语句完善了本质上需要大量代码才能完成的类结构。</p><p>**2.1.2经济可行性**</p><p>1）开发成本：由于该项目设计高并发环境，其主要资金主要用于服务器的租赁和维护上，每年大约1000-3000元左右；</p><p>2）人力成本：该项目涉及需求调研、结构设计、软件开发、软件测试等步骤，但是任务量不算大，大约5人即可；</p><p>3）产权成本：该项目主要使用开源技术，包含一些第三方开源数据库、插件等，无需支付额外的费用。</p>|
|<p>**2.1.3操作可行性**</p><p>该项目采用MVC模式开发，把一个应用的输入、处理、输出流程按照Model、View、Controller的方式进行分离。三个层次的分离，使得一个模型可以具有多个显示视图。如果用户通过某个视图的控制器改变了模型的数据，所有依赖于这些数据的视图都将反映到这些变化。</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.001.jpeg)</p><p>图 2-1 MVC模式</p><p>2.2分析需求</p><p>**2.2.1 功能性需求**</p><p>表格 2-1前台功能需求</p>|

|**功能**|**说明**|
| :-: | :-: |
|美观的界面UI|前端需要提供美观的界面UI，提供作者写作动力|
|热门文章展示|提供浏览量较高的文章，用以展示系统内的优秀资源|
|浏览量实时记录|系统应实时记录文章的浏览量，用以回馈作者数据|
|文章评论|系统应支持评论功能，体现互动性|
|分类展示文章|系统应根据文章的类别进行分类展示|
|上传头像|使用者可以上传PNG或JPG文件作为用户的头像|

|<p></p><p>表格 2-2后台功能需求</p>|
| - |

|**功能**|**说明**|
| :-: | :-: |
|美观的界面UI|前端需要提供美观的界面UI，提供用户可靠性|
|角色管理|对不同身份的用户赋予不同的角色|
|权限管理|对于不同角色的用户，展示不同的管理界面|
|菜单管理|设置不同的管理界面|
|用户管理|对不同的用户进行管理|
|文章管理|对不同文章进行管理|
|友链管理|审核友链是否通过|
|分类管理|对不同分类进行管理|
|标签管理|对不同标签进行管理|
|博文上传|用户可以在后台撰写博文，并上传到数据库|
|数据存取|对各类数据进行存储和查询|

|<p>**2.2.2 非功能性需求**</p><p>1.安全性</p><p>Safety1：系统前台应该只允许登录后的用户发送评论；</p><p>Safety2：系统后台应该只允许验证后授权的用户登录；</p><p>Safety3：系统应该支持跨域操作。</p><p>2.可维护性</p><p>Modifiability1：当系统需更新博文展示页面，应在3人1天内完成；</p><p>Modifiability2：系统进行业务维护的时长应低于1小时。</p><p>3.易用性</p><p>Usability1：用户达到目标界面的跳转次数不得超过2次；</p><p>Usability2：系统界面简洁、不拥挤且将常用功能放置在显眼处；</p><p>Usability3：当用户的操作非法时，系统应及时给出提示。</p><p>4.可靠性</p><p>Reliability1：在浏览器与服务器通信时，如果网络故障系统不能出现故障；</p><p>Reliability1.1：浏览器应该检测到故障，并尝试重新连接网络3次，每次</p><p>15秒；</p><p>Reliability1.1.1：重新连接后，浏览器应该继续之前的工作；</p><p>Reliability1.1.2：重新连接不成功浏览器应等待5分钟后，再次尝试连接；</p><p>`	`Reliability1.1.2.1：重新连接后，浏览器应该继续之前的工作；</p><p>`	`Reliability1.1.2.2：重新连接不成功后，浏览器应该报警。</p><p>5.性能</p><p>Performance1：并发用户数不小与10万；</p><p>Performance2：系统响应时间应小于0.25秒；</p><p>Performance3：界面最小刷新时间不应超过4小时。</p><p>2.3数据流图</p><p>该博客管理系统分为前台和后台两个系统，前台主要用于评论和查询文章内容服务，后台则主要为用户和管理员服务，其中用户可以通过后台发布文章，管理员可以通过管理权限对用户、角色、文章、友链、分类、标签等进行管理。</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.002.jpeg)</p><p>图2-2前台系统DFD</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.003.jpeg)</p><p>图2-3后台系统DFD</p><p>2.4数据字典</p><p>数据流图表达了数据和处理的关系，数据字典则是系统中各类数据描述的集合，是进行详细的数据收集和数据分析所获得的主要成果。</p><p>1）数据结构</p><p>表格 2-3用户信息数据结构</p>|
| - |

|**数据结构名：**|**用户信息**|
| :-: | :-: |
|描述：|用户基本信息|
|组成：|用户名+昵称+密码+类型+状态+邮箱+电话+性别+头像|
|其他说明：|类型用于区分是否为管理员，状态用于区分是否为活跃用户|

|<p></p><p>表格 2-4角色信息数据结构</p>|
| - |

|**数据结构名：**|**角色信息**|
| :-: | :-: |
|描述：|角色基本信息|
|组成：|角色名+角色值+角色排序+状态+删除标志+备注|
|其他说明：|状态用于区分是否启用，删除标志用于区分是否被删除|

|<p></p><p>表格 2-5菜单信息数据结构</p>|
| - |

|**数据结构名：**|**菜单信息**|
| :-: | :-: |
|描述：|菜单基本信息|
|组成：|菜单名+父菜单标志+排序+路径+组件+外链标志+菜单类型+可见性+状态+权限标识+菜单图标+备注+删除标志|
|其他说明：|状态用于区分是否启用，删除标志用于区分是否被删除|

|<p></p><p>表格 2-6文章信息数据结构</p>|
| - |

|**数据结构名：**|**文章信息**|
| :-: | :-: |
|描述：|文章基本信息|
|组成：|标识+题目+内容+摘要+分类标识+缩略图+置顶标识+状态+访问量+评论标识+创建人+创建时间+修改人+修改时间+删除标识|
|其他说明：|状态用于区分是否发布，删除标志用于区分是否被删除|

|<p></p><p>表格 2-7分类信息数据结构</p>|
| - |

|**数据结构名：**|**分类信息**|
| :-: | :-: |
|描述：|分类基本信息|
|组成：|标识+分类名+父类标识+描述+状态+删除标志|
|其他说明：|状态用于区分是否启用，删除标志用于区分是否被删除|

|<p></p><p>表格 2-8评论信息数据结构</p>|
| - |

|**数据结构名：**|**评论信息**|
| :-: | :-: |
|描述：|评论基本信息|
|组成：|标识+类型+文章标识+根标识+内容+回复目标用户的标识+回复评论的标识+创建人+创建时间+修改人+修改时间+删除标志|
|其他说明：|删除标志用于区分是否被删除|

|<p></p><p>表格 2-9标签信息数据结构</p>|
| - |

|**数据结构名：**|**标签信息**|
| :-: | :-: |
|描述：|标签基本信息|
|组成：|标识+名称+创建人+创建时间+修改人+修改时间+删除标志+备注|
|其他说明：|删除标志用于区分是否被删除|

|<p></p><p>表格 2-10友链信息数据结构</p>|
| - |

|**数据结构名：**|**友链信息**|
| :-: | :-: |
|描述：|友链基本信息|
|组成：|标识+名称+图标+描述+网站地址+状态+创建人+创建时间+修改人+修改时间+删除标志|
|其他说明：|状态表示是否审核通过，删除标志用于区分是否被删除|

|<p>2）数据流</p><p>表格 2-11博客管理系统数据流</p>|
| - |

|**数据流名**|**数据流来源**|**数据流去向**|**组成**|
| :-: | :-: | :-: | - |
|撰写文章|用户|文章信息表|文章信息|
|发布文章|用户|文章信息表|文章信息|
|录入分类信息|后台管理员|分类信息表|分类信息|
|录入标签信息|后台管理员|标签信息表|标签信息|
|录入角色信息|后台管理员|角色信息表|角色信息|
|设置用户角色|后台管理员|用户信息表|角色信息、用户信息|
|录入管角色信息|后台管理员|角色信息表|角色信息|
|设置管理员角色|后台管理员|用户信息表|角色信息、用户信息|
|文章管理|后台管理员|文章信息表|文章信息|
|友链管理|后台管理员|友链信息表|友链信息|
|添加评论|用户|评论信息表|评论信息|
|用户注册|用户|用户信息表|用户信息|
|用户登录|用户|用户信息表|用户信息|
|访问计数|用户|文章信息表|文章信息|

||
| - |
|**第3章 总体设计**|
|<p>3.1系统模块图</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.004.jpeg)</p><p>图 3-1模块结构图</p><p>该项目主要由前台博文展示系统和后台博文管理系统两部分组成，前台博文展示系统包含了用户管理、文章管理、评论管理三个部分，而后台博文管理系统则是包含了用户管理、角色管理、菜单管理、文章管理、分类管理、标签管理、友链管理。</p><p>1） 前台博文展示系统：</p><p>1. 用户管理：用户首先以游客身份浏览前台系统，点击页面上方的注册按钮可以跳转到注册页面，进行【用户注册】；注册成功后，点击登录按钮，跳转到登录页面，进行【用户登录】；登录成功后，点击页面上方的个人中心按钮，即可到跳转到用户信息页面。点击修改按钮后，跳转到个人信息修改页面，方可进行【修改信息】，也可以【上传头像】。</p><p>2. 文章管理：系统会以文章发表时间倒序排列，将最近发布的博文展示在页面左侧，同时会根据文章的分类进行【文章分类展示】；在页面的右侧，则会根据文章的访问量降序，进行【热门文章展示】；同时用户点击阅读全文按钮后，会跳转到该博文的详情页面，此时文章访问量自动加一，系统进行【访问量更新】；在文章详情页面也可以看到【友链展示】。</p><p>3. 评论管理：用户以游客身份即可看到在文章详情页面下方有其他用户对该文章的评论以及对其他用户的留言，即【评论展示】；用户登录后，方可进行【留言回复】；系统会自动对发送的信息进行【评论审核】。</p>|
|<p>2） 后台博文管理系统：</p><p>1. 用户管理：管理员登录后台博文管理系统后，方可对系统内的用户进行【用户审核】和【用户状态修改】（对用户信息进行增、删、改、查等操作）。</p><p>2. 角色管理：管理员登录后台博文管理系统后，方可对系统内的角色进行【角色审核】，以及将角色分配给不同的用户，使得不同用户登录到后台系统中展示的菜单页面不同，即【角色分配】。</p><p>3. 菜单管理：管理员登录后台博文管理系统后，方可对系统内的菜单进行【菜单审核】和【菜单修改】（对菜单信息进行增、删、改、查等操作）。</p><p>4. 文章管理：管理员登录后台博文管理系统后，方可对系统内的文章进行【文章审核】和【文章状态修改】（对文章信息进行增、删、改、查等操作）。</p><p>5. 分类管理：管理员登录后台博文管理系统后，方可对系统内的分类进行【分类添加】和【分类删除】。</p><p>6. 标签管理：管理员登录后台博文管理系统后，方可对系统内的标签进行【标签添加】和【标签删除】。</p><p>7. 友链管理：管理员登录后台博文管理系统后。方可对系统内的友链进行【友链审核】（包含添加新的友链地址）。</p><p>3.2数据库设计</p><p>数据库的设计目的是为了记录博文发布过程中所产生的数据，这个环节的工作也是整个系统能否顺利进行下去的重要前提和基础，下面首先分析各实体之间的E-R图，然后进一步设计出系统数据库结构。</p><p>**3.2.1 E-R图**</p><p>根据已知需求，为了更好地体现系统中各种实体之间的关系，更准确地表达用户对数据的要求，我们需要建立一个概念性的数据模型，其中包括涉及到的数据对象、对象的属性以及相互间彼此的联系，这就是E-R图。用E-R图表示的概念模型独立于具体的DBMS所支持的数据模型，它是各种数据模型的共同基础，因此比数据模型更一般、该抽象、更接近现实世界。</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.005.jpeg)</p><p>图 3-2 E-R图</p><p>通过E-R图，可以清楚地看出，整个系统的运转都是以文章为核心，用户扮演某种角色，发表文章也可以发表评论。文章从属于某种分类，可以包含多个标签和多个友链。一篇文章可以拥有多个用户发表的多条评论。同样一条标签或是友链，可以出现在不同文章下。但一篇文章只能从属于某一种分类。同样地，一个用户也只能扮演一种角色。一个用户可以发表多篇文章，但一篇文章只能有一个作者。 </p><p>**3.2.2 系统数据库表结构**</p><p>根据上文设计好的E-R图，可以在数据库中创建相应的数据表。本系统各模块需要以下数据表：文章表、文章标签关联表、分类表、评论表、友链表、菜单表、角色表、角色菜单关联表、用户表、用户角色关联表、标签表</p><p>1. 文章表（article）</p><p>文章表用来存储文章的基本信息。表结构如表3-1所示</p><p>表格3-1文章表结构</p>|

|**字段名称**|**字段注释**|**数据类型**|**长度**|
| :-: | :-: | :-: | :-: |
|ID|文章ID号（主键）|BIGINT||
|TITLE|文章标题|VARCHAR|256|
|CONTENT|文章内容|LONGTEXT||
|SUMMARY|文章摘要|VARCHAR|1024|
|CATEGORY\_ID|所属分类id|BIGINT||
|THUMBNAIL|缩略图|VARCHAR|256|
|IS\_TOP|是否置顶（0否，1是）|CHAR|1|
|STATUS|状态（0已发布，1草稿）|CHAR|1|
|VIEW\_COUNT|浏览量|BIGINT||
|IS\_COMMENT|是否允许评论（0否，1是）|CHAR|1|
|CREATE\_BY|创建者|BIGINT||
|CREATE\_TIME|创建时间|DATETIME||
|UPDATE\_BY|修改者|BIGINT||
|UPDATE\_TIME|修改时间|DATETIME||
|DEL\_FLAG|删除标志（0代表未删除，1表示已删除）|INT||

|<p>2. 文章标签关联表（article\_tag）</p><p>文章标签关联表用来存储文章和标签的关联信息。表结构如表3-2所示</p><p>表格3-2文章标签关联表结构</p>|
| - |

|**字段名称**|**字段注释**|**数据类型**|**长度**|
| :-: | :-: | :-: | :-: |
|ARTICLE\_ID|文章ID号（主键1）|BIGINT||
|TAG\_ID|标签ID号（主键2）|BIGINT||

|<p>3. 分类表（category）</p><p>分类表用来存储分类的基本信息。表结构如表3-3所示</p><p>表格3-3分类表结构</p>|
| - |

|**字段名称**|**字段注释**|**数据类型**|**长度**|
| :-: | :-: | :-: | :-: |
|ID|分类ID号（主键）|BIGINT||
|NAME|分类名称|VARCHAR|128|
|PID|父类ID，如果没有父类为-1|BIGINT||
|DESCRIPTION|描述|VARCHAR|512|
|STATUS|状态（0正常，1禁用）|CHAR|1|
|VIEW\_COUNT|浏览量|BIGINT||
|CREATE\_BY|创建者|BIGINT||
|CREATE\_TIME|创建时间|DATETIME||
|UPDATE\_BY|修改者|BIGINT||
|UPDATE\_TIME|修改时间|DATETIME||
|DEL\_FLAG|删除标志（0代表未删除，1表示已删除）|INT||

|<p>4. 评论表（comment）</p><p>评论表用来存储评论的基本信息。表结构如所示</p><p>表格3-4评论表结构</p>|
| - |

|**字段名称**|**字段注释**|**数据类型**|**长度**|
| :-: | :-: | :-: | :-: |
|ID|评论ID号（主键）|BIGINT||
|TYPE|评论类型（0代表文章评论，1代表友链评论）|CHAR|1|
|ARTICLE\_ID|文章ID|BIGINT||
|ROOT\_ID|根评论ID|BIGINT||
|CONTENT|评论内容|VARCHAR|512|
|TO\_COMMENT\_USER\_ID|所回复的目标评论的USERID|BIGINT||
|TO\_COMMENT\_ID|所回复的目标评论的ID|BIGINT||
|CREATE\_BY|创建者|BIGINT||
|CREATE\_TIME|创建时间|DATETIME||
|UPDATE\_BY|修改者|BIGINT||
|UPDATE\_TIME|修改时间|DATETIME||
|DEL\_FLAG|删除标志（0代表未删除，1表示已删除）|INT||

|<p>5. 友链表（link）</p><p>友链表用来存储友链的基本信息。表结构如表3-5所示</p><p>表格3-5友链表结构</p>|
| - |

|**字段名称**|**字段注释**|**数据类型**|**长度**|
| :-: | :-: | :-: | :-: |
|ID|友链ID号（主键）|BIGINT||
|NAME|友链名称|VARCHAR|256|
|LOGO|友链标志|VARCHAR|256|
|DESCRIPTION|描述|VARCHAR|512|
|ADDRESS|友链地址|VARCHAR|128|
|THUMBNAIL|缩略图|VARCHAR|256|
|STATUS|状态（0审核通过，1审核未通过，2未审核）|CHAR|1|
|CREATE\_BY|创建者|BIGINT||
|CREATE\_TIME|创建时间|DATETIME||
|UPDATE\_BY|修改者|BIGINT||
|UPDATE\_TIME|修改时间|DATETIME||
|DEL\_FLAG|删除标志（0代表未删除，1表示已删除）|INT||

|<p>6. 菜单表（sys\_menu）</p><p>菜单表用来存储菜单的基本信息。表结构如表3-6所示</p><p>表格3-6菜单表结构</p>|
| - |

|**字段名称**|**字段注释**|**数据类型**|**长度**|
| :-: | :-: | :-: | :-: |
|ID|菜单ID号（主键）|BIGINT||
|MENU\_NAME|菜单名称|VARCHAR|50|
|PARENT\_ID|父菜单ID|BIGINT||
|ORDER\_NUM|显示顺序|INT|1024|
|PATH|路由路径|VARCHAR|200|
|COMPONENT|组件路径|VARCHAR|255|
|IS\_FRAME|是否为外链（0是，1否）|INT||
|MENU\_TYPE|菜单类型（M目录，C菜单，F按钮）|CHAR|1|
|VISIBLE|菜单显示（0显示，1隐藏）|CHAR|1|
|STATUS|菜单状态（0正常，1停用）|CHAR|1|
|PERMS|权限标识|VARCHAR|100|
|ICON|菜单图标|VARCHAR|100|
|CREATE\_BY|创建者|BIGINT||
|CREATE\_TIME|创建时间|DATETIME||
|UPDATE\_BY|修改者|BIGINT||
|UPDATE\_TIME|修改时间|DATETIME||
|REMARK|备注|VARCHAR|500|
|DEL\_FLAG|删除标志（0代表未删除，1表示已删除）|INT||

|<p>7. 角色表（sys\_role）</p><p>角色表用来存储角色的基本信息。表结构如表3-7所示</p><p>表格3-7角色表结构</p>|
| - |

|**字段名称**|**字段注释**|**数据类型**|**长度**|
| :-: | :-: | :-: | :-: |
|ID|角色ID号（主键）|BIGINT||
|ROLE\_NAME|角色名称|VARCHAR|30|
|ROLE\_KEY|角色权限字符串|VARCHAR|100|
|ROLE\_SORT|显示顺序|INT||
|STATUS|菜单状态（0正常，1停用）|CHAR|1|
|CREATE\_BY|创建者|BIGINT||
|CREATE\_TIME|创建时间|DATETIME||
|UPDATE\_BY|修改者|BIGINT||
|UPDATE\_TIME|修改时间|DATETIME||
|REMARK|备注|VARCHAR|500|
|DEL\_FLAG|删除标志（0代表未删除，1表示已删除）|INT||

|<p>8. 角色菜单关联表（sys\_role\_menu）</p><p>角色菜单关联表用来存储角色和菜单的关联信息。表结构如表3-8所示</p><p>表格3-8角色关联表结构</p>|
| - |

|**字段名称**|**字段注释**|**数据类型**|**长度**|
| :-: | :-: | :-: | :-: |
|ROLE\_ID|角色ID号（主键1）|BIGINT||
|MENU\_ID|菜单ID号（主键2）|BIGINT||

|<p>9. 用户表（sys\_user）</p><p>用户表用来存储用户的基本信息。表结构如表3-9所示</p><p>表格3-9用户表结构</p>|
| - |

|**字段名称**|**字段注释**|**数据类型**|**长度**|
| :-: | :-: | :-: | :-: |
|ID|用户ID号（主键）|BIGINT||
|USER\_NAME|用户名|VARCHAR|64|
|NICK\_NAME|昵称|VARCHAR|64|
|PASSWORD|密码（SpringSecurity加密）|VARCHAR|64|
|TYPE|用户类型（0普通用户，1管理员）|CHAR|1|
|EMAIL|电子邮箱|VARCHAR|64|
|PHONENUMBER|电话号码|VARCHAR|32|
|SEX|性别|CHAR|1|
|AVATAR|头像|VARCHAR|128|
|STATUS|状态（0审核通过，1审核未通过，2未审核）|CHAR|1|
|CREATE\_BY|创建者|BIGINT||
|CREATE\_TIME|创建时间|DATETIME||
|UPDATE\_BY|修改者|BIGINT||
|UPDATE\_TIME|修改时间|DATETIME||
|DEL\_FLAG|删除标志（0代表未删除，1表示已删除）|INT||

|<p>10. 用户角色关联表（sys\_user\_role）</p><p>用户角色关联表用来存储用户和角色的关联信息。表结构如表3-10所示</p><p>表格3-10用户角色关联表结构</p>|
| - |

|**字段名称**|**字段注释**|**数据类型**|**长度**|
| :-: | :-: | :-: | :-: |
|USER\_ID|用户ID号（主键1）|BIGINT||
|ROLE\_ID|角色ID号（主键2）|BIGINT||

|<p>11. 标签表（tag）</p><p>标签表用来存储标签的基本信息。表结构如表3-11所示</p><p>表格3-11标签表结构</p>|
| - |

|**字段名称**|**字段注释**|**数据类型**|**长度**|
| :-: | :-: | :-: | :-: |
|ID|标签ID号（主键）|BIGINT||
|NAME|标签名称|VARCHAR|128|
|CREATE\_BY|创建者|BIGINT||
|CREATE\_TIME|创建时间|DATETIME||
|UPDATE\_BY|修改者|BIGINT||
|UPDATE\_TIME|修改时间|DATETIME||
|REMARK|备注|VARCHAR|500|
|DEL\_FLAG|删除标志（0代表未删除，1表示已删除）|INT||

|<p></p><p></p>|
| - |
|**第4章 详细设计及编码**|
|<p>4.1 系统主界面</p><p>**4.1.1 前台系统主界面**</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.006.jpeg)</p><p>图 4-1前台系统主界面</p>|
|<p>前台主界面主要使用VUE技术实现，同时包含多种JavaScript技术实现动态调整界面。</p><p>**4.1.2 后台系统主界面**</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.007.jpeg)</p><p>图 4-2后台系统主界面</p><p>后台主界面主要使用VUE技术实现，同时包含多种JavaScript技术实现动态调整界面。</p><p>4.2 系统管理界面</p><p>**4.2.1用户管理界面**</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.008.jpeg)</p><p>图 4-3用户管理界面</p><p>**4.2.2角色管理界面**</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.009.jpeg)</p><p>图 4-4角色管理界面</p><p>**4.2.3菜单管理界面**</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.010.jpeg)</p><p>图 4-5菜单管理界面</p><p>4.3 内容管理界面</p><p>**4.3.1文章管理界面**</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.011.jpeg)</p><p>图 4-6文章管理界面</p><p>**4.3.2分类管理界面**</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.012.jpeg)</p><p>图 4-7分类管理界面</p><p>**4.3.3友链管理界面**</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.013.jpeg)</p><p>图 4-8友链管理界面</p><p>**4.3.4标签管理界面**</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.014.jpeg)</p><p>图 4-9标签管理界面</p><p>鉴于整个系统设计SpringBoot, SpringSecurity, Mybatisplus等多项技术，代码量较大，下方仅展示系统管理界面相关的部分核心代码。</p>|

|@Configuration<br>public class SecurityConfig extends WebSecurityConfigurerAdapter {<br><br>`    `@Autowired<br>`    `private JwtAuthenticationTokenFilter jwtAuthenticationTokenFilter;<br><br>`    `@Autowired<br>`    `private AuthenticationEntryPoint authenticationEntryPoint;<br><br>`    `@Autowired<br>`    `private AccessDeniedHandler accessDeniedHandler;<br><br>`    `@Override<br>`    `@Bean<br>`    `public AuthenticationManager authenticationManagerBean() throws Exception {<br>`        `return super.authenticationManagerBean();<br>`    `}<br><br>`    `@Bean<br>`    `public PasswordEncoder passwordEncoder() {<br>`        `return new BCryptPasswordEncoder();<br>`    `}<br><br>`    `@Override<br>`    `protected void configure(HttpSecurity http) throws Exception {<br>`        `http<br>`                `*//关闭csrf*<br>`                `.csrf().disable()<br>`                `*//不通过Session获取SecurityContext*<br>`                `.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.*STATELESS*)<br>`                `.and()<br>`                `.authorizeRequests()<br>`                `*// 对于登录接口 允许匿名访问*<br>`                `.antMatchers("/user/login").anonymous()<br>*//                .antMatchers("/logout").authenticated()<br>//                .antMatchers("/user/userInfo").authenticated()<br>`                `// 除上面外的所有请求全部不需要认证即可访问*<br>`                `.anyRequest().authenticated();<br><br>`        `*//配置异常处理器*<br>`        `http.exceptionHandling()<br>`                        `.authenticationEntryPoint(authenticationEntryPoint)<br>`                                `.accessDeniedHandler(accessDeniedHandler);<br><br>`        `http.logout().disable();<br><br>`        `http.addFilterBefore(jwtAuthenticationTokenFilter, UsernamePasswordAuthenticationFilter.class);<br><br>`        `*//允许跨域*<br>`        `http.cors();<br>`    `}<br>}|
| :- |

|<p>4. 4项目结构展示</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.015.jpeg)![](e3e33386474749a4ba9f1ea5ad07ff3b.016.jpeg)</p><p>![](e3e33386474749a4ba9f1ea5ad07ff3b.017.jpeg)</p><p>图 4-10项目结构展示</p>|
| - |
|**第5章 系统测试**|
|<p>5.1 前台博文展示模块测试</p><p>**5.1.1 登录模块测试**</p><p>表格 5-1 登录模块测试</p>|

|测试输入数据|预期输出|实际输出|测试结果|
| - | - | - | - |
|输入用户名“sg”密码“1234”|系统检测用户登录，提示“欢迎登录”|系统检测用户登录，提示“欢迎登录”|Passed|
|输入用户名|系统提示“密码不可为空！”|系统检测密码未填写，提示错误信息|Passed|
|输入错误用户名和密码|系统提示“登录失败，检查用户名或密码！”|系统查不到相应人员，提示错误信息|Passed|

|<p>**5.1.2 注册模块测试**</p><p>表格5-2 注册模块测试</p>|
| - |

|测试输入数据|预期输出|实际输出|测试结果|
| - | - | - | - |
|输入注册信息|用户注册信息显示在页面上|界面显示用户填写的注册信息|Passed|
|新增用户信息并点击“注册”|自动弹出新增用户信息成功信息，并且跳转至登陆界面|系统在新增用户信息后返回登录界面，并自动显示新增信息|Passed|

|<p>**5.1.3 评论模块测试**</p><p>表格 5-3 评论模块测试</p>|
| - |

|测试输入数据|预期输出|实际输出|测试结果|
| - | - | - | - |
|输入评论的信息|界面显示用户的评论信息|系统将用户填写的评论信息显示在界面上|Passed|
|点击发送按钮|系统提示“评论发送成功”|系统将留言信息写入留言表，如果有某些信息未填全，则给出错误提示“该信息不可为空，请重新填写”|Passed|
|输入回复的信息|界面显示用户的回复信息|系统将用户填写的回复信息显示在界面上|Passed|
|点击回复按钮|系统提示“回复成功”|系统将回复信息传入留言表中，如果某些信息填写不全，则给出相应提示“请将信息填写完全”|Passed|

||
| - |
|<p>5.2 后台博文管理模块测试</p><p>**5.2.1 文章管理模块测试**</p><p>表格5-4文章管理模块测试</p>|

|测试输入数据|预期输出|实际输出|测试结果|
| - | - | - | - |
|在文章管理标签输入条件点击“搜索”进行文章搜索|系统显示根据搜索条件筛选出来的相关信息|系统搜索相关的文章信息并显示出来|Passed|
|对文章信息进行修改|系统显示“修改成功”|系统将更新后的文章信息存入数据库表文章表，并刷新界面中的文章表|Passed|
|点击“发布”进行文章发布操作|系统显示“发布成功”|系统将新的文章信息存入数据库表，并刷新界面中的文章表|Passed|
|点击“删除”按钮进行删除操作|系统显示“删除成功”|系统将该文章的del\_flag字段进行修改，更新数据库的文章表|Passed|

|<p>**5.2.2 角色管理模块测试**</p><p>表格5-5角色管理模块测试</p>|
| - |

|测试输入数据|预期输出|实际输出|测试结果|
| - | - | - | - |
|在角色管理标签输入条件点击“搜索”进行角色搜索|系统显示根据搜索条件筛选出来的相关信息|系统搜索相关的角色信息并显示出来|Passed|
|对角色信息进行修改|系统显示“修改成功”|系统将更新后的角色信息存入数据库表角色表，并刷新界面中的角色表|Passed|
|点击“新增”进行角色添加操作|系统显示“添加成功”|系统将新的角色信息存入数据库表，并刷新界面中的角色表|Passed|
|点击“删除”按钮进行删除操作|系统显示“删除成功”|系统将该角色的del\_flag字段进行修改，更新数据库的角色表|Passed|

|<p>**5.2.3 用户管理模块测试**</p><p>表格5-6用户管理模块测试</p>|
| - |

|测试输入数据|预期输出|实际输出|测试结果|
| - | - | - | - |
|在用户管理标签输入条件点击“搜索”进行用户搜索|系统显示根据搜索条件筛选出来的相关信息|系统搜索相关的用户信息并显示出来|Passed|
|对用户信息进行修改|系统显示“修改成功”|系统将更新后的用户信息存入数据库表用户表，并刷新界面中的用户表|Passed|
|点击“新增”进行用户添加操作|系统显示“添加成功”|系统将新的用户信息存入数据库表，并刷新界面中的用户表|Passed|
|点击“删除”按钮进行删除操作|系统显示“删除成功”|系统将该用户的del\_flag字段进行修改，更新数据库的用户表|Passed|

|<p>**5.2.4 分类管理模块测试**</p><p>表格5-7分类管理模块测试</p>|
| - |

|测试输入数据|预期输出|实际输出|测试结果|
| - | - | - | - |
|在分类管理标签输入条件点击“搜索”进行分类搜索|系统显示根据搜索条件筛选出来的相关信息|系统搜索相关的分类信息并显示出来|Passed|
|对分类信息进行修改|系统显示“修改成功”|系统将更新后的分类信息存入数据库表分类表，并刷新界面中的分类表|Passed|
|点击“新增”进行分类添加操作|系统显示“添加成功”|系统将新的分类信息存入数据库表，并刷新界面中的分类表|Passed|
|点击“删除”按钮进行删除操作|系统显示“删除成功”|系统将该分类的del\_flag字段进行修改，更新数据库的分类表|Passed|

|<p>**5.2.5 标签管理模块测试**</p><p>表格5-8标签管理模块测试</p>|
| - |

|测试输入数据|预期输出|实际输出|测试结果|
| - | - | - | - |
|在标签管理标签输入条件点击“搜索”进行标签搜索|系统显示根据搜索条件筛选出来的相关信息|系统搜索相关的标签信息并显示出来|Passed|
|对标签信息进行修改|系统显示“修改成功”|系统将更新后的标签信息存入数据库表标签表，并刷新界面中的标签表|Passed|
|点击“新增”进行标签添加操作|系统显示“添加成功”|系统将新的标签信息存入数据库表，并刷新界面中的标签表|Passed|
|点击“删除”按钮进行删除操作|系统显示“删除成功”|系统将该标签的del\_flag字段进行修改，更新数据库的标签表|Passed|

|<p>**5.2.6 友链管理模块测试**</p><p>表格5-9友链管理模块测试</p>|
| - |

|测试输入数据|预期输出|实际输出|测试结果|
| - | - | - | - |
|在友链管理标签输入条件点击“搜索”进行友链搜索|系统显示根据搜索条件筛选出来的相关信息|系统搜索相关的友链信息并显示出来|Passed|
|点击“新增”进行友链添加操作|系统显示“添加成功”|系统将新的友链信息存入数据库表，并刷新界面中的友链表|Passed|
|点击“审核未通过”按钮进行删除操作|系统显示“未通过审核”|系统将该标签的status字段进行修改，更新数据库的友链表|Passed|

|<p>5.3 系统测试遇到的问题及解决方案</p><p>表格5-10测试问题与解决方案</p>|
| - |

|序号|问题描述|解决方案|
| :-: | :-: | :-: |
|1|@Autowired注入失败|对于多模块开发，不同模块下@Autowired仅能对同一路径文件进行注入，需要保证需要被注入的类所在的包名和注入文件所在的包名一致|
|2|跨域问题|因为前后端分离开发下需要跨域请求，因此需对跨域进行操作，包括设置允许跨域请求的域名，设置允许的请求方式，是否允许cookie等|
|3|登录时的堆栈溢出异常|这个问题是由于在Service层中的一个实现类没有加上@Service注解导致的|
|4|Windows系统中Redis配置|需要在下载redis的Windows版本后，在控制面板的管理工具中控制的服务里重新启动|
|5|用户信息读取失败|前端接口的需求字段为userName，而相应实体类提供的变量名为username，无法被识别|
|6|Redis无法定时操作|没有在启动类前添加定时注解|

|<p>5.4 系统测试结论</p><p>经过一系列的系统测试，包括前台用户模块十一个功能模块的测试和后台管理员模块十三个功能模块的测试。发现了很多问题，小到报错信息出现错误，也发现了一些需求阶段的不合理设计分析。经过一段时间的代码修改与完善，已将编程中所发现的错误全部调试正确，需求和功能设计方面的问题也已经进行调整和修改。整个系统的功能基本上已经能够达到预期的目标。</p>|
| - |
|**第6章 总结及展望**|
|<p>6.1 实训自评</p><p>本次实训主要内容是基于数据库进行系统开发，以数据库、数据表的创建和修改为开端，了解实际开发中数据的使用。表是建立关系数据库的基本结构，用来存储数据具有已定义的属性，在表的操作过程中，有查看表信息、查看表属性、修改表中的数据、删除表中的数据及修改表和删除表操作。从实训中让我更明白了数据库的一些具体使用，表是数据最重要的一个对象，表创建的优良直接关系到数据库使用的成败。</p><p>此外，在实训过程中，还学习到了数据库的约束、视图和查询。使用视图一方面可以简化数据操作，还可以提高数据库的安全性，不仅可以检索数据，同样也可以通过视图向基表中添加、修改和删除数据。触发器的使用也是该实训的重点内容之一，通过设置触发器，在指定事件前或后自动触发对应语句。</p><p>三周的时间很快就结束了，但收获颇丰。只有耐下心来，脚踏实地地学习，才能孰能生巧，才能游刃有余。我深刻理解了在SpringBoot框架下数据库的使用，让我对程序设计有了更进一步的理解，为今后学习指明了一个方向。</p><p>6.2 系统不足</p><p>1.登录认证没有设计验证码；</p><p>2.个人信息界面不够精致；</p><p>3.管理界面的数据展示不够直观。</p><p>6.3 下一步工作展望</p><p>接下来的时间，我将继续学习前端知识，使用JavaSript设计验证码，使得登录认证更加具有安全性；设计更加精致的前端界面，让系统更具吸引力，为用户修改生日，地点，学校等字段设置修改界面。</p><p>同时学习百度公司提供的ECharts接口，设计图表使得数据的展示更加直观。此外，设计触发器将数据库的使用提升到一个新的高度。提高MySQL和Redis服务之间的数据交换，提高系统存取大量数据的能力。</p><p>实现移动端设备的系统连接，利用Android技术设计前端接受窗口，利用服务器存储数据，并共享到PC端和移动端。</p>|
|**第7章 职业道德和规范**|
|<p>7.1 IT项目开发职业道德及其规范</p><p>基本的道德规则包括：为社会和人类的美好生活做出贡献；避免伤害其他人；做到诚实可信；恪守公正并在行为上无歧视；敬重包括版权和专利在内的财产权；对智力财产赋予必要的信用；尊重其他人的隐私；保守机密。</p><p>规范包括：努力在职业工作的程序与产品中实现最高的质量、最高的效益和高度的尊严；获得和保持职业技能；了解和尊重现有的与职业工作有关的法律；接受和提出恰当的职业评价；对计算机系统和它们包括可能引起的危机等方面做出综合的理解和彻底的评估；重视合同、协议和指定的责任 。</p><p>7.2 领域交叉职业道德及规范</p><p>1、行业性</p><p>具体职业活动中所形成的带有行业特点的行为准则，如“除暴安良”适用于司法领域，“为人师表”适用于教育领域，“救死扶伤”适用于医疗领域等。</p><p>2.养成性</p><p>职业道德不会自发产生，一个人如果要成为一名具有高尚的职业道德的从业者，就需要有一个从认识职业道德规则到养成职业道德行为习惯和职业道德信念的过程。比如一个商人要真正做到“货真价实、童叟无欺”，首先要知晓这个规则的重要意义。但仅仅知晓还不够，在经营过程中，商人会遇到同行竞争、成本上升、顾客挑剔、利益诱惑等各种情况，这时就需要商人设置道德良心的底线并具备恪守规则的意志，才能将“货真价实、童叟无欺”落实到行动中，并形成内心的道德信念。</p><p>3.他律与自律结合性</p><p>职业道德对从业人员的职业行为有引导、规范和约束作用，从业人员如果违反了职业道德，就会受到同行、社会的谴责，甚至会因此而失去相应的从业资格。这就是职业道德的他律性。</p><p>职业道德得到从业人员内心的认同、敬畏和尊崇，从业人员自觉依据职业道德对自身利益和欲望加以节制。这就是职业道德的自律性。</p><p>7.3 开源代码使用及声明</p>|
|<p>GPL（GNU General Public License）：是由自由软件基金会公布的自由软件许可证。GPL是一个Copyleft许可证，这意味着派生作品只能以相同的许可条款分发，这也意味着商业软件不能使用GPL协议的代码。这与宽松自由软件许可证有所区别 ，GPL是第一个普遍使用的Copyleft许可证。GPL授予程序接受人以下权利，或称“自由”，或称“copyleft”：</p><p>- 基于任何目的，按你的意愿运行软件的自由（自由之零）。</p><p>- 学习软件如何工作的自由，按你的意愿修改软件以符合你的计算的自由（自由之一）。可访问源代码是此项自由的先决条件。</p><p>- 分发软件副本的自由，因此你可以帮助你的好友（自由之二）。</p><p>- 将你修改过的软件版本再分发给其他人的自由（自由之三）。可以让整个社区有机会共享你对软件的改动。可访问源代码是此项自由的先决条件。</p><p>7.4 有关数据和代码保密的规范性要求</p><p>`  `1.不得将保密信息投入以盈利为目的市场销售或贩卖等商业活动或交付第三方用于商业活动；</p><p>`  `2.除非项目工作需要，否则不得以任何方式（口头、书面、磁盘、通信网络等）传递到其他第三方，包括个人、公司、其他经济组织等；</p><p>`  `3.在保密信息泄露后，泄露方应采取各种合理方法挽回泄密后造成的结果，并尽可能保证保密信息继续处于保密状态；</p><p>`  `4.未经同意，不得以泄露、公布、发布、出版、授权、传授、转让或其他方式转递到第三方。</p>|

